<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/tic-tac-toe.css">
</head>

<div class="container center-block">
    <h1>Tic-Tac-Toe</h1>
        <div class="row">
            <div class="col-xs-9">
                <div class="row row1">
                    <div id="tr0" class="col-xs-4 box noTop noLeft"></div>
                    <div id="tr1" class="col-xs-4 box noTop"></div>
                    <div id="tr2" class="col-xs-4 box noTop noRight"></div>
                </div>
                <div class="row row2">
                    <div id="mr0" class="col-xs-4 box noLeft"></div>
                    <div id="mr1" class="col-xs-4 box"></div>
                    <div id="mr2" class="col-xs-4 box noRight"></div>
                </div>
                <div class="row row3">
                    <div id="br0" class="col-xs-4 box noBottom noLeft"></div>
                    <div id="br1" class="col-xs-4 box noBottom"></div>
                    <div id="br2" class="col-xs-4 box noBottom noRight"></div>
                </div>
            </div>
            <div class="col-xs-3">
                <div id="turnIndicator" class="lookingGood">Go Player X</div>

            </div>
        </div>
</div>
<br>
<button class="center-block">Start A New Game</button>
<body>


<script src="js/jquery-2.2.4.js"></script>
<script src="js/bootstrap.min.js"></script>

<script>
    "use strict";

    var ticTacToeBoard = [[0,0,0],[0,0,0],[0,0,0]];

    var turn = 0;

    $('.box').click(function(event){

        if (turn % 2 === 0 && $(this).text() === "") {
            $(event.target).text('X');
            turn += 1;
            $('#turnIndicator').text("Go Player O");
        } else if (turn % 2 === 1 && $(this).text() === "") {
            $(event.target).text("O");
            turn += 1;
            $('#turnIndicator').text("Go Player X");
        }
    });

    $('button').click(function(event) {
        event.preventDefault();
        $('.box').text("");
        $('#turnIndicator').text("Player X's Turn");
        turn = 0;
        ticTacToeBoard = [[0,0,0],[0,0,0],[0,0,0]];
    });


    $('#tr0').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[0][0] === 0) {

            ticTacToeBoard[0].splice(0, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[0][0] === 0) {
            ticTacToeBoard[0].splice(0, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });

    $('#tr1').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[0][1] === 0) {

            ticTacToeBoard[0].splice(1, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[0][1] === 0){
            ticTacToeBoard[0].splice(1, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });
    $('#tr2').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[0][2] === 0) {

            ticTacToeBoard[0].splice(2, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[0][2] === 0) {
            ticTacToeBoard[0].splice(2, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });

    $('#mr0').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[1][0] === 0) {

            ticTacToeBoard[1].splice(0, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[1][0] === 0) {
            ticTacToeBoard[1].splice(0, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });

    $('#mr1').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[1][1] === 0) {

            ticTacToeBoard[1].splice(1, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[1][1] === 0) {
            ticTacToeBoard[1].splice(1, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });
    $('#mr2').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[1][2] === 0) {

            ticTacToeBoard[1].splice(2, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[1][2] === 0) {
            ticTacToeBoard[1].splice(2, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });

    $('#br0').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[2][0] === 0) {

            ticTacToeBoard[2].splice(0, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[2][0] === 0) {
            ticTacToeBoard[2].splice(0, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });

    $('#br1').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[2][1] === 0) {

            ticTacToeBoard[2].splice(1, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[2][1] === 0){
            ticTacToeBoard[2].splice(1, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });
    $('#br2').click(function(){
        if(turn % 2 === 0 && ticTacToeBoard[2][2] === 0) {

            ticTacToeBoard[2].splice(2, 1, 1);
            console.log(ticTacToeBoard);
        } else if (turn % 2 === 1 && ticTacToeBoard[2][2] === 0) {
            ticTacToeBoard[2].splice(2, 1, 2);
            console.log(ticTacToeBoard);
        }
        isSolved();
    });


    function isSolved() {

//horizontal wins;

        if (ticTacToeBoard[0][0] === 1 && ticTacToeBoard[0][1] === 1 && ticTacToeBoard[0][2] === 1) {
            $('#turnIndicator').text('O Wins');
        }
        if (ticTacToeBoard[1][0] === 1 && ticTacToeBoard[1][1] === 1 && ticTacToeBoard[1][2] === 1) {
            $('#turnIndicator').text('O Wins');
        }
        if (ticTacToeBoard[2][0] === 1 && ticTacToeBoard[2][1] === 1 && ticTacToeBoard[2][2] === 1) {
            $('#turnIndicator').text('O Wins');
        }
        if (ticTacToeBoard[0][0] === 2 && ticTacToeBoard[0][1] === 2 && ticTacToeBoard[0][2] === 2) {
            $('#turnIndicator').text('X Wins');
        }
        if (ticTacToeBoard[1][0] === 2 && ticTacToeBoard[1][1] === 2 && ticTacToeBoard[1][2] === 2) {
            $('#turnIndicator').text('X Wins');
        }
        if (ticTacToeBoard[2][0] === 2 && ticTacToeBoard[2][1] === 2 && ticTacToeBoard[2][2] === 2) {
            $('#turnIndicator').text('X Wins');
        }
//vertical wins
        if (ticTacToeBoard[0][0] === 1 && ticTacToeBoard[1][0] === 1 && ticTacToeBoard[2][0] === 1) {
            $('#turnIndicator').text('O Wins');
        }
        if (ticTacToeBoard[0][1] === 1 && ticTacToeBoard[1][1] === 1 && ticTacToeBoard[2][1] === 1) {
            $('#turnIndicator').text('O Wins');
        }
        if (ticTacToeBoard[0][2] === 1 && ticTacToeBoard[1][2] === 1 && ticTacToeBoard[2][2] === 1) {
            $('#turnIndicator').text('O Wins');
        }
        if (ticTacToeBoard[0][0] === 2 && ticTacToeBoard[1][0] === 2 && ticTacToeBoard[2][0] === 2) {
            $('#turnIndicator').text('X Wins');
        }
        if (ticTacToeBoard[0][1] === 2 && ticTacToeBoard[1][1] === 2 && ticTacToeBoard[2][1] === 2) {
            c$('#turnIndicator').text('X Wins');
        }
        if (ticTacToeBoard[0][2] === 2 && ticTacToeBoard[1][2] === 2 && ticTacToeBoard[2][2] === 2) {
            $('#turnIndicator').text('X Wins');
        }
//diagonalwins
        if (ticTacToeBoard[0][0] === 1 && ticTacToeBoard[1][1] === 1 && ticTacToeBoard[2][2] === 1) {
            $('#turnIndicator').text('O Wins');
        }
        if (ticTacToeBoard[0][2] === 1 && ticTacToeBoard[1][1] === 1 && ticTacToeBoard[2][0] === 1) {
            $('#turnIndicator').text('O Wins');
        }
        if (ticTacToeBoard[0][0] === 2 && ticTacToeBoard[1][1] === 2 && ticTacToeBoard[2][2] === 2) {
            $('#turnIndicator').text('X Wins');
        }
        if (ticTacToeBoard[0][2] === 2 && ticTacToeBoard[1][1] === 2 && ticTacToeBoard[2][0] === 2) {
            $('#turnIndicator').text('X Wins');
        }

        // var stalemate = 0;
        // ticTacToeBoard.forEach(function(array) {
        //     for (var i = 0; i < array.length; i ++) {
        //         if (array[i] !== 0) {
        //             stalemate +=1;
        //         }
        //     }
        // });
        //
        // if(stalemate === 9) {
        //     $('#turnIndicator').text('Stalemate!!')
        // }
    }
</script>
</body>
</html>