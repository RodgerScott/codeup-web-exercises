<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Weather API Project</title>
    <style>

        body {
            background-color: lightblue;
        }

        .mainContainer {
            height: 200px;
            width: 85%;
            background-color: #F2F2F2;
            box-sizing: border-box;
            margin: 0 auto;
        }

        .innerBox {
            height: 200px;
            width: 33.3%;
            float: left;
            text-align: center;
            border: 1px solid black;
            box-sizing: border-box;
            padding-top: 15px;
        }

        #map {
            height: 400px;
            width: 85%;
            box-sizing: border-box;
            margin: 0 auto;
            margin-top: 40px;
        }

        .tempResults {
            font-size: 1.75em;
            font-weight: bold;
        }

    </style>
</head>
<body>

    <h1>Codeup Weather Project</h1>

    <div>
        <label>Input Latitude: </label><input id="LatInput" type="text">
        <label>Input Longitude: </label><input id="LonInput" type="text">
    </div>
    <div>
        <button id="mapLocate">
            Click This!
        </button>
    </div>
    <div class="mainContainer">
        <div id="today" class="innerBox"></div>
        <div id="tomorrow" class="innerBox"></div>
        <div id="dayAfterTomorrow" class="innerBox"></div>
    </div>
    <div id="map">

    </div>



    <script src="js/jquery-2.2.4.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIIUTWwvJJl5ZNhLBapDLyznaOhiyvjos"></script>
    <script>

        var addressSearch = $('#cityInput').val;

        //Google Maps Scripting

        var map;
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: -34.397, lng: 150.644},
                zoom: 10
            });
        }

        initMap();

            var address = "The Alamo";

            var geocoder = new google.maps.Geocoder();

            geocoder.geocode({"address": address}, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {

                    map.setCenter(results[0].geometry.location);
                } else {

                    alert('Geocoding was not successful - STATUS: ' + status);
                }
                console.log(results[0].geometry.location.lat());
                console.log(results[0].geometry.location.lng());
            });

        //OpenWeather Scripting
        var weatherData = "";

        $.get("http://api.openweathermap.org/data/2.5/weather", {
            APPID: "03924764fe8c1dc6f21d496c9fed9776",
            q:     "San Antonio",
            units: "imperial"
        }).done(function(data) {

            weatherData += '<div class="tempResults">' + data.main.temp_min + ' / ' + data.main.temp_max +  '</div>';
            weatherData += '<div>' + data.weather[0].main + '</div>';
            weatherData += '<div>' + 'Humidity: ' + data.main.humidity + '</div>';
            weatherData += '<div>' + 'Wind: ' + data.wind.speed + '</div>';
            weatherData += '<div>' + 'Pressure: ' + data.main.pressure + '</div>';

            $('#today').html(weatherData);
        });


        var tomorrowData = "";

        $.get("http://api.openweathermap.org/data/2.5/forecast", {
            APPID: "03924764fe8c1dc6f21d496c9fed9776",
            q:     "San Antonio",
            units: "imperial"
        }).done(function(data) {

            console.log(data.list[0]);

            tomorrowData += '<div class="tempResults">' + data.list[0].main.temp_min + ' / ' + data.list[0].main.temp_max +  '</div>';
            tomorrowData += '<div>' + data.list[0].weather[0].main + '</div>';
            tomorrowData += '<div>' + 'Humidity: ' + data.list[0].main.humidity + '</div>';
            tomorrowData += '<div>' + 'Wind: ' + data.list[0].wind.speed + '</div>';
            tomorrowData += '<div>' + 'Pressure: ' + data.list[0].main.pressure + '</div>';

            $('#tomorrow').html(tomorrowData);
        });


        var dayAfterTomorrowData = "";

        $.get("http://api.openweathermap.org/data/2.5/forecast", {
            APPID: "03924764fe8c1dc6f21d496c9fed9776",
            q:     "San Antonio",
            units: "imperial"
        }).done(function(data) {

            console.log(data.list[8]);

            tomorrowData += '<div class="tempResults">' + data.list[8].main.temp_min + ' / ' + data.list[0].main.temp_max +  '</div>';
            tomorrowData += '<div>' + data.list[0].weather[8].main + '</div>';
            tomorrowData += '<div>' + 'Humidity: ' + data.list[8].main.humidity + '</div>';
            tomorrowData += '<div>' + 'Wind: ' + data.list[8].wind.speed + '</div>';
            tomorrowData += '<div>' + 'Pressure: ' + data.list[8].main.pressure + '</div>';

            $('#tomorrow').html(tomorrowData);
        });





        // data.forEach(function(littleData) {
        //
        //     weatherData += '<div class="tempResults">' + littleData.main.temp_min + ' / ' + data.main.temp_max +  '</div>';
        //     weatherData += '<div>' + littleData.weather[0].main + '</div>';
        //     weatherData += '<div>' + 'Humidity: ' + littleData.main.humidity + '</div>';
        //     weatherData += '<div>' + 'Wind: ' + littleData.wind.speed + '</div>';
        //     weatherData += '<div>' + 'Pressure: ' + littleData.main.pressure + '</div>';
        //
        // });
        // $('#today').html(weatherData);

    </script>
</body>
</html>