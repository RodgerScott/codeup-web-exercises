<!DOCTYPE html>
<html>
<head>
    <title>Ajax Hardware</title>
</head>
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/ajax.css">
<body>

<header class="container">
    <nav class="row headerBackground">
        <div class="col-md-6 col-xs-12">
            <h1>Ajax Hardware</h1>
        </div>
        <div class="col-md-6 col-xs-12">
            <div class="row">
                <ul>
                    <li class="col-md-4"><span class="navLinks"><a href="ajax-store.html">Home</a></span></li>
                    <li class="col-md-4"><span class="navLinks"><a href="">Inventory</a></span></li>
                    <li class="col-md-4"><span class="navLinks"><a href="ajax-blog.html">Blog</a></span></li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<main class="container">
    <div class="row">
        <div class="col-md-8">
            <div class="row">
                <div class="col-md-12">
                    <h1 id="inventoryTitle">Current Inventory</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-10 col-xs-offset-1 col-sm-10 col-sm-offset-1 col-md-11 col-md-offset-0 col-lg-10 mainBackground">
                    <div class="row">
                        <table id="products">
                            <thead>
                            <tr>
                                <th class="col-xs-3 col-sm-3 col-md-3 col-lg-3">Title</th>
                                <th class="col-xs-3 col-md-3 col-lg-3">Quantity</th>
                                <th class="col-xs-3 col-md-3 col-lg-3">Price</th>
                                <th class="col-xs-3 col-md-3 col-lg-3">Categories</th>
                            </tr>
                            </thead>
                            <tbody id="insertProducts"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4  simpleBorder">
            <h2 class="text-center" style="text-decoration: underline">Top News</h2>
            <div class="row">
                <div class="col-md-3 hidden-sm hidden-xs">
                    <img src="images/fb_list3.png" alt="">
                </div>
                <div class="col-md-6 col-md-offset-0 col-xs-12 newsText">
                    <a href="ajax-blog.html">New Hammers Are Here</a>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3 hidden-sm hidden-xs">
                    <img src="images/fb_list3.png" alt="">
                </div>
                <div class="col-md-6 col-md-offset-0 col-xs-12 newsText">
                    <a href="ajax-blog.html">New Drills Are Here</a>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3 hidden-sm hidden-xs">
                    <img src="images/fb_list3.png" alt="">
                </div>
                <div class="col-md-6 col-md-offset-0 col-xs-12 newsText">
                    <a href="ajax-blog.html">New Screwdrivers are Are Here</a>
                </div>
            </div>
        </div>
    </div>
    <hr>
</main>

<section class="container">
    <div class="row">
        <div class="col-md-4">
            <img src="images/mom_pop_hardware.jpg" width="300px" alt="">
        </div>
        <div class="col-md-4 col-md-offset-2 col-md-offset-0">
            <h2>Our History</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Commodi, ipsa nemo. Doloremque enim esse eum
                ex fugit, optio quasi quis quod reiciendis repellendus similique sunt tempora velit? Iure,
                officia temporibus.</p>
        </div>
    </div>
    <hr>
</section>
<footer class="container">
    <div class="row">
        <div class="col-md-12 text-center">
            <h3>Copyright 2018 Ajax Hardware</h3>
            <h4>All Rights Reserved</h4>
        </div>
    </div>
</footer>


<!--<button id="refresh">Refresh</button>-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<script>
(function() {
    "use strict";
    // TODO: Create an ajax GET request for /data/inventory.json



    // $.ajax("data/inventory.json").done(function(data, status, jqXhr){
    //     data.forEach(function(piece){
    //         console.log(piece);
    //     });
    // });

    var html = "";

    // TODO: Take the data from inventory.json and append it to the products table

    //ajax request function

    function dataRefresh () {
        $.ajax("data/inventory.json").done(function (data, status, jqXhr) {
            var html = "";
            data.forEach(function (piece) {
                html += '<tr>' + '<td>' + piece.title + '</td>' +
                    '<td>' + piece.quantity + '</td>' + '<td>' + '$' + piece.price + '</td>' +
                    '<td>' + piece.categories + '</td>' + '</tr>';
            });
            $('#insertProducts').html(html);
            html = "";
        });
    }

    dataRefresh();

    //ajax request button

    // $('#refresh').click(dataRefresh);

    //code below puts the dataRefresh function on an interval.

    setInterval(dataRefresh, 10000);

})();
</script>

</body>
</html>
